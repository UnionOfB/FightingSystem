#fight system系统介绍
这是一个**战斗系统**的原型。该系统可以用于第一人称视角的战斗游戏。系统的操作理念源于以《水果忍者》为代表的通过手势来操作的游戏。本系统摒弃了仿照手柄设计的按键系统——即，这里没有十字键，没有设定好的一键即可释放的招式。系统中只有简单的攻击、防御、移动，并且包含了最简单的五行能量。
使用第一人称的理由，是想要通过这种代入感极强的视角来让操作者真实的处于战斗的现场。这里没有作弊一般的上帝视角，也不像横屏格斗游戏一样能够观察到敌我的所有细节。通过限定玩家能够观察到的内容，来为玩家的战斗决策提供更真实的依据。
本系统的操作方式是专门为手机或平板设计的，尚没有移植到键盘鼠标上。操作时，大多数情况下需要手指在屏幕上停留一段时间。或者是按住不动，或者是划过一段距离，而不是触碰后马上离开。通过这样的操作方式，希望可以让操作具有节奏感。

下面是目录：

+ [简介](#简介)
+ [攻击](#攻击)
+ [防御](#防御)
+ [移动](#移动)
+ [位置关系](#位置关系)
+ [调整状态](#调整状态)
+ [能量操作及状态影响](#能量操作及状态影响)
+ [敌人的状态](#敌人的状态)
+ [胜负判定](#胜负判定)

<a name="简介"></a>
##简介

###当前版本

**v2.1版本**

###区域划分

屏幕中央有上下两排五色数字。以两排数字之间为界，下方为玩家操作区，上方为敌人状态区。

![系统画面](http://i12.tietuku.com/8c44947e283e4715.png)

玩家操作区
![玩家操作区](http://i12.tietuku.com/f52617040347cd2b.png)

敌人状态区
![敌人状态区](http://i12.tietuku.com/a5762570e648e117.png)

###介绍顺序
首先，从**攻击**、**防御**、**移动**三个要素来介绍本系统。之后，介绍基于移动所产生的敌我双方位置关系。之后介绍**调整状态**操作，与攻击和移动相结合，可以产生不同的策略与节奏。在之后介绍战斗中的五行能量，将会从对能量的操作和能量对角色状态的影响两个方面来介绍。在之后将总体介绍一下战斗中可以观察到的敌人状态。最后说明胜负判定原则。

在最开始，必须说明，当前版本的系统**只适用于敌我共计两人的情况**。


<a name="攻击"></a>
##攻击

毋庸置疑，通过攻击可以创伤对手。攻击分为**轻**、**重**两种方式。轻攻击能够快速启动，但是杀伤较低，可以短暂中断敌人。重攻击启动较慢，但是杀伤更大，中断敌人时间也更长。
攻击操作分为**选择**、**准备**、**命中**三个阶段。
+ 选择
进行攻击操作时，首先需要要按住攻击键。之后，按下后，可以看到轻重两种攻击方式可被选择。手指移动到对应按钮区域后，视为选择此方式。选择攻击方式后，没有被选择的按钮将会变灰。
+ 准备
对于被选中的攻击方式，手指需要在按钮区域停留一段时间。可以看到攻击按钮旁边红色进度条上升，达到最高后，被选中的攻击按钮将会变红，此时认为攻击准备完毕。这个过程在模拟角色做出攻击准备的动作。
+ 命中
攻击准备完毕后，手指向上方迅速划出，到按钮区域上方后再离开屏幕，系统则认定玩家确认要执行攻击操作。之后会从攻击按钮上方发出一个红色的方块，快速移动到屏幕上方。红色方块移动到某一位置后会消失。之后将会扣除对手的能量值。这个过程在模拟角色挥动武器到击中敌人的过程。

在完整的操作过程中，玩家的手指不能离开屏幕。在选择、准备阶段，手指离开屏幕视为放弃操作。在命中阶段，~~玩家不能进行其他操作，能量操作除外~~。
在攻击过程中，玩家不能进行防御操作，但是可以进行移动、能量操作。

![攻击开始](http://i12.tietuku.com/7b0991387bd80cf3.png)

![选择1](http://i12.tietuku.com/70e878fcd08cc5f1.png)

![选择2](http://i12.tietuku.com/ac102bc0a892895a.png)

![攻击准备](http://i12.tietuku.com/571b9dc0a212a9a0.png)

![攻击命中](http://i12.tietuku.com/819277315fbfa1e8.png)

###中断状态

中断状态，也就是硬直。在这种状态下，角色不能进行能量操作以外的所有操作，并且角色正在进行的攻击、防御、移动操作都会被取消。当玩家处于中断状态下时，所有按键都会变灰。

![中断状态](http://i12.tietuku.com/17fe58e1bfd7f717.png)

<a name="防御"></a>
##防御

防御操作，可以弱化攻击。普通的防御可以降低攻击造成的伤害，还能减少对方攻击自己因为被击中等原因而处于中断状态的时间。除此之外，角色还可以通过**格挡**，来取消对方的攻击，并且让对方处于中断状态。

防御按钮上有一个蓝色的进度条。当玩家按下按钮时，角色将会处于防御状态，此时进度条会减少。当进度条为空时，自动取消防御状态。当玩家手指离开防御按钮时，角色结束防御状态，并且进度条会缓慢恢复。

~~防御操作分为**起手**、**开始**、**取消**、**结束**四个阶段。~~

当玩家处于防御状态时，手指向防御按钮上方快速滑动，到按钮上方后离开屏幕，则判定玩家采取**格挡**操作。
在对方的攻击处于击中状态的后半段时，格挡操作判定为成功。此时采取格挡的一方不会受到伤害，也不会处于中断状态。攻击方会中断一段时间。但是，在错误的时间进行格挡操作，格挡方将会自动进入中断状态。

在防御状态时，不能使用攻击操作，但是可以使用移动操作。~~在防御状态下的移动会变慢。~~

![防御开始](http://i12.tietuku.com/826aeef18c83dd7a.png)

![防御中](http://i12.tietuku.com/e760aa091379af05.png)

![防御结束](http://i12.tietuku.com/f44dd5cc9e198dde.png)

<a name="移动"></a>
##移动

在战斗中，角色可以进行四向移动，分别是向左、向右、向前、向后。在当前版本，向左、向右移动都会产生**侧移**效果，并没有具体区别。~~向前移动可以靠近敌人。~~~~向后移动可以远离敌人~~。向后移动可以退出战斗。

执行移动操作包括**准备**、**选择**、**完成**三个阶段。

+ 准备
玩家点击**调整**按钮。当手指在按钮范围内接触屏幕时，按钮中会出现一个蓝色进度条，快速填充按钮。当进度条填满按钮后，在按钮四周会出现**向前**、**向后**、与两个**侧移**共四个按钮。

+ 选择
玩家将手指移动到任意一个方向按钮上，视为选择向这个方向移动。此时其他三个移动按钮会消失。

+ 完成
玩家选择一个移动方向后，手指需要停留在该方向按钮上一段时间。此时方向按钮上会出现一个蓝色进度条快速填充按钮。当按钮被填满后，手指离开屏幕，移动操作完成。

在移动操作完成之前，即方向按钮中蓝色进度条填满按钮之前，任何时候手指离开屏幕，都视为取消移动操作。

![移动](http://i12.tietuku.com/003c6e0d98759b9e.png)

![开始移动](http://i12.tietuku.com/7fb86e591063b30b.png)

![选择移动](http://i12.tietuku.com/d6246cfa5c98fd11.png)

![移动中](http://i12.tietuku.com/18625c7b85875a2d.png)

![移动完成](http://i12.tietuku.com/0e46544da8f14b8f.png)

<a name="位置关系"></a>
##位置关系

移动操作实现的是位置关系的转换。而位置关系会影响到攻击、防御的判定。
在当前版本中，位置关系分为正面对敌和侧面对敌，具体分为**正面对敌**、**敌在我侧**、**我在敌侧**。

+ 正面对敌
这种状态下，敌我双方正面相对。此时攻击和防御都都能产生正常判定。

+ 敌在我侧
这种状态下，敌人在我的侧面。敌人的攻击命中后会造成更高的伤害，但是中断时间不会改变。我可以进入防御状态，但是防御状态不会减少伤害，也不能缩短中断时间。我可以进行攻击操作，但是攻击无法命中。当敌我处于这种状态时，我不能对敌人造成任何伤害，但是敌人可以迅速杀伤我。

+ 我在敌侧
这种状态下，敌人不能对我造成任何伤害，但是我可以更有效杀伤敌人。相比敌在我侧，此时攻守易位。

在移动操作中，侧移的效果就是从正面对敌转变至侧面对敌。可是当敌在我侧时，我转化只能将敌我状态转化为正面对敌。方法时使用**转身**操作。

+ 转身
玩家点击**调整**按钮。手指落在屏幕上按钮范围内时，按钮内会出现蓝色进度条迅速填满按钮。当蓝色进度条填满按钮后，手指离开屏幕，则判定完成转身动作。

在判定成功之前手指离开屏幕，~~或角色处于中断状态~~，转身动作都会取消。当蓝色进度条填满后，四向按钮仍会出现，如果此时玩家选择任何一个方向，则认为玩家没有执行转身操作。因此敌在我侧的状态并不会改变。

###同时移动

如果在角色进行移动操作时，对方也开始采取移动操作，那么最终敌我位置关系判定依据以先完成操作的角色为准来计算。~~此时取消对方的移动操作。~~

![正面对敌](http://i12.tietuku.com/63abd633a032a6d5.png)

![敌在我侧](http://i12.tietuku.com/f4958074abc00f6d.png)

![我在敌侧](http://i12.tietuku.com/2a714426795284ec.png)

<a name="调整状态"></a>
##调整状态

攻击、移动两类操作都需要玩家手指在屏幕上停留一段时间。调整状态操作可以**大大减少攻击、移动操作必要的时间**。

+ 攻击 - 快速准备
当角色攻击，**处于准备阶段**时，按下**调整**按钮，可以立刻完成准备。注意，按下调整按钮后手指即可离开屏幕，不需停留。

+ 移动 - 快速移动
玩家手指接触**调整**按钮后，立刻向一个方向移动，手指离开调整按钮区域后离开屏幕，即完成快速移动。

+ 转身 - 快速转身
玩家手指接触**调整**按钮后，不需等待蓝色进度条填满按钮空间，即可离开屏幕，就能完成快速转身操作。

+ 中断恢复
当玩家处于中断状态时，快速点击**调整**按钮，即可脱离中断状态。

对于以上所有情况，当手指离开屏幕后，即判定完成调整操作。

调整操作，模拟的是角色处于快速爆发力量，完成一些平时较花费时间的动作。然而一次调整之后，需要度过一段**窗口期**，才能准备好下一次调整操作。在窗口期内，角色需要休息，无法爆发力量。

<a name="能量操作及状态影响"></a>
##能量操作及状态影响

角色具有**金（white），木（green），水（blue)，火（red），土（yellow）**五种能量，每种能量都有一定的能量值。当角色处于某一种能量状态下时，敌人击中角色，则角色当前能量状态下的能量值会被扣除一部分。例如当角色处于金能量下时，敌人的攻击只会减少金能量的值，而对其他能量不会有影响。

###能量状态

角色处在不同能量状态下，其采取某些行为所花费的时间将会不同。

+ 金-white
攻击准备时间增加，最大防御时间增加，~~防御恢复时间减少~~。
+ 火-red
攻击准备时间减少，最大防御时间减少，~~防御恢复时间增加~~。
+ 木-green
调整操作窗口期增加，每次获得中断状态时间减少，中断状态最大累计时间减少，移动选择阶段时间增加。
+ 水-water
调整操作窗口期减少，移动选择阶段时间减少。
+ 土-yellow
从土能量开始的能量转换操作所需时间大幅减少。

###能量转换

角色能量状态分为**自身能量**和**攻击能量**两种。

+ 自身能量
在正常情况下，角色能量状态会随着时间流逝而转换。角色能量按照**金->水->木->火->土->金**的顺序依次转换。
在玩家操作区域，左右两侧各有一个能量状态指示物。该指示物会随时间缓慢变短，指示物消失后角色就转换至下一个能量状态。当玩家按下两侧指示物下方的圆点时，能量指示物将会快速减少。即，玩家按下能量点，可以快速完成能量转化。玩家手指离开能量圆点后，能量指示物减少速度恢复正常。

+ 攻击能量
玩家的攻击能量初始为玩家当前的自身能量。
当玩家完成能量转换操作，手指离开能量圆点时，玩家的攻击能量即转换为当前的自身能量。除非角色再次进行能量转换操作，否则角色的攻击能量不会改变。**角色的攻击能量状态会反应在角色的攻击按钮，与攻击方式按钮的颜色上**。

![攻击能量](http://i12.tietuku.com/e9096b2a576f4e21.png)

###相生相克

角色的攻击能量与目标的自身能量的关系，将会影响角色对目标所造成的伤害。具体关系分为**相生**与**相克**。

+ 相生
按照**金->水->木->火->土->金**的顺序，能量依次相生。在相生关系中，当角色的攻击能量**通过一个箭头指向**目标的自身能量，角色对目标造成的伤害将会减少。例如，角色攻击能量为水，目标自身能量为木，则角色造成的伤害会降低。

+ 相克
按照**金->木->土->水->火->金**的顺序，能量依次相克。在相克关系中，当角色的攻击能量**通过一个箭头指向**目标的自身能量，角色对目标造成的伤害将会减少。例如，角色攻击能量为水，目标自身能量为火，则角色造成的伤害会增加。

![能量指示物](http://i12.tietuku.com/6e4f30cf65110510.png)

<a name="敌人的状态"></a>
##敌人的状态

在战斗中，玩家可以观察到敌人的攻击、防御状态，能量状态，敌我位置状态，与敌人的中断状态。

###攻击状态

![攻击状态](http://i12.tietuku.com/f903af1283c24eac.png)

敌人在无法采取攻击动作时，攻击状态标示为灰。敌人选择攻击方式后，攻击状态标示会对应发生改变。敌人攻击完成准备后，攻击状态标示会变红。敌人处于命中阶段时，也会出现红色方块快速向屏幕下方移动。
敌人的攻击能量同样通过能量状态的颜色来显示。
玩家看不到敌人的攻击准备进度条。

![攻击选择](http://i12.tietuku.com/b1d9c32c4e14089f.png)

![攻击准备](http://i12.tietuku.com/f91e6ba3f037f6f4.png)

![攻击命中](http://i12.tietuku.com/a1920381883645a7.png)

![攻击能量](http://i12.tietuku.com/b3c707d665d0d084.png)

###防御状态

敌人在无法采取防御动作时，防御状态标示为灰。~~敌人采取格挡操作时，防御状态标示显示为**格挡**状态~~。
玩家看不到敌人的防御进度条。

![防御状态](http://i12.tietuku.com/787f521d10ba4ab1.png)

###能量状态

敌人同样通过能量点和能量指示物显示能量状态。敌人的能量同样会随时间缓慢减少。敌人同样可以使用能量转换操作。

![能量状态](http://i12.tietuku.com/6e4f30cf65110510.png)

###敌我位置状态

敌我位置状态是从玩家的试点出发，敌人在玩家的什么位置。包括上文的**正面对敌**、**敌在我侧**、**我在敌侧**三种。此外，当敌人进行移动时，该状态还会显示**侧移**。
敌人在移动时，玩家看不到进度条。

![正面对敌](http://i12.tietuku.com/7372d9e55bf5ff60.png)

![敌在我侧](http://i12.tietuku.com/bc85c277bf599db9.png)

![我在敌侧](http://i12.tietuku.com/f0ae900cb70d27f1.png)

![侧移](http://i12.tietuku.com/c39635ab700a8c88.png)

###敌人中断状态

~~当敌人处于中断状态时，该标示会变绿，而敌人的攻击、防御状态都会变灰。否则，该状态标示变灰，敌人可以正常行动。~~

![正常状态](http://i12.tietuku.com/e71053d993c7465d.png)

<a name="胜负判定"></a>
##胜负判定

当角色任一能量值为0时，无论其余4种能量值数量集合，角色被判定为失败。

##游戏外部链接

http://lwbiuchsjk.github.io/fightSystem/fightIndex.html


